# Research: Book Master Plan

**Feature**: 001-book-master-plan
**Date**: 2025-12-14
**Status**: Complete

## Research Questions

### RQ-001: Docusaurus 3 Folder Structure Best Practices

**Question**: What is the recommended folder structure for a multi-module documentation
site in Docusaurus 3?

**Decision**: Use `docs/` as the root with subdirectories for each module, leveraging
`_category_.json` for automatic sidebar generation.

**Rationale**:
- Docusaurus 3 automatically generates sidebar from folder structure
- `_category_.json` provides control over labels, positions, and collapsibility
- Index files (`index.md`) in each folder become the category landing page
- This structure scales well for 50+ chapters across 4 modules

**Alternatives Considered**:
1. **Manual sidebar configuration**: Rejected - requires manual updates for each new chapter
2. **Flat file structure with numbering**: Rejected - poor organization for large projects
3. **Versioned docs**: Deferred - may add versioning later as content matures

**Sources**:
- Docusaurus 3 documentation: https://docusaurus.io/docs/sidebar
- Docusaurus category index: https://docusaurus.io/docs/sidebar/autogenerated

---

### RQ-002: GitHub Pages Deployment Configuration

**Question**: How should we configure Docusaurus for GitHub Pages deployment?

**Decision**: Use GitHub Actions workflow with `docusaurus deploy` command targeting
the `gh-pages` branch.

**Rationale**:
- GitHub Actions provides automated deployment on push to main branch
- `gh-pages` branch keeps build artifacts separate from source
- Docusaurus has built-in GitHub Pages support with proper base URL handling

**Configuration Required**:
```javascript
// docusaurus.config.js
module.exports = {
  url: 'https://<username>.github.io',
  baseUrl: '/<repo-name>/',
  organizationName: '<username>',
  projectName: '<repo-name>',
  deploymentBranch: 'gh-pages',
  trailingSlash: false,
};
```

**Alternatives Considered**:
1. **Netlify**: Rejected - GitHub Pages sufficient for static docs, free for public repos
2. **Vercel**: Rejected - Same reasoning as Netlify
3. **Manual deployment**: Rejected - Automation reduces errors and ensures consistency

---

### RQ-003: Sidebar Position Strategy

**Question**: How should sidebar positions be assigned across modules?

**Decision**: Use sequential positions starting from 1, with intro at position 1 and
modules at positions 2-5.

**Rationale**:
- Position 1 for intro ensures it appears first in navigation
- Sequential numbering (2, 3, 4, 5) follows the recommended learning path
- Chapters within modules use their own position sequence (1, 2, 3, ...)
- `_category_.json` handles module-level ordering

**Position Assignments**:
| Item | Position |
|------|----------|
| intro.md | 1 |
| module-1-ros2 | 2 |
| module-2-digital-twin | 3 |
| module-3-brain | 4 |
| module-4-vla | 5 |

---

### RQ-004: Markdown Frontmatter Requirements

**Question**: What frontmatter fields are required for Docusaurus markdown files?

**Decision**: Use `sidebar_position` and `title` as minimum required fields.

**Rationale**:
- `sidebar_position` controls order within the parent category
- `title` provides the display name in sidebar (falls back to H1 if not set)
- Additional fields (`slug`, `description`, `keywords`) optional but recommended for SEO

**Standard Frontmatter Template**:
```yaml
---
sidebar_position: 1
title: Chapter Title
---
```

**Optional Fields for SEO**:
```yaml
---
sidebar_position: 1
title: Chapter Title
description: Brief description for meta tags
keywords: [keyword1, keyword2]
slug: /custom-url-path
---
```

---

### RQ-005: Broken Link Detection

**Question**: How does Docusaurus handle broken internal links?

**Decision**: Rely on Docusaurus built-in broken link checker during build.

**Rationale**:
- `npm run build` fails if broken links detected (default behavior)
- Can be configured in `docusaurus.config.js` with `onBrokenLinks` setting
- Recommended setting: `'throw'` for strict enforcement

**Configuration**:
```javascript
module.exports = {
  onBrokenLinks: 'throw',
  onBrokenMarkdownLinks: 'throw',
};
```

---

## Technology Decisions Summary

| Area | Decision | Confidence |
|------|----------|------------|
| Static Site Generator | Docusaurus 3.x | High |
| Sidebar Generation | Automatic with _category_.json | High |
| Deployment | GitHub Pages via Actions | High |
| Link Validation | Built-in broken link checker | High |
| Content Format | Markdown with MDX support | High |

## Unresolved Questions

None - all technical decisions resolved for documentation structure phase.

## Next Steps

1. Proceed to Phase 1: Generate data-model.md and quickstart.md
2. Initialize Docusaurus project in repository root
3. Test build and local development server
